(()=>{"use strict";let t="",n="";const e=document.querySelector(".showecase-books"),i=document.querySelector(".btn_load-more"),s=document.querySelectorAll(".category-books_item");let a="buy now",o="subject:Architecture",l=0,r="",c=[],d=[];async function v(){const i=(await fetch(`https://www.googleapis.com/books/v1/volumes?q=${o}&key=AIzaSyC8YBwRI2UO8lk5k4S31Z77MyGZr_Lu_bI&printType=books&startIndex=${l}&maxResults=6&langRestrict='en'`).then((t=>t.json())).then((t=>t)).catch((()=>{console.log("error")}))).items;i.forEach((t=>{let n=`<div class="book-position">\n                          <img class="${t.volumeInfo?.imageLinks?.thumbnail?"book-position_image":"book-position_image-none"}" src="${t.volumeInfo?.imageLinks?.thumbnail}" alt="foto book">\n                          <div class="book-position_info">\n                              <h2 class="book-position_info-author">${t.volumeInfo?.authors}</h2>\n                              <h2 class="book-position_info-title">${t.volumeInfo?.title}</h2>\n                              <div class="${t.volumeInfo?.averageRating?"rating-block":"rating-block-none"}">\n                                  <div class="${t.volumeInfo?.averageRating?"rating-block_stars":""}">   \n                                      <div class="${1===t.volumeInfo?.averageRating?"rating-block_stars__one":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${2===t.volumeInfo?.averageRating?"rating-block_stars__two":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${3===t.volumeInfo?.averageRating?"rating-block_stars__three":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${4===t.volumeInfo?.averageRating?"rating-block_stars__four":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${5===t.volumeInfo?.averageRating?"rating-block_stars__five":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                      </div>\n                                  </div>\n                                  <h2 class="${t.volumeInfo?.ratingsCount?"rating-block_count":"rating-block_count-none"}">${t.volumeInfo?.ratingsCount} review</h2>\n                              </div>\n                              <h2 class="${t.volumeInfo?.description?"book-position_info-description":"book-position_info-description-none"}">${t.volumeInfo?.description}</h2>\n                              <h2 class="${t.saleInfo?.retailPrice?.amount?"book-position_info-sale":"book-position_info-sale-none"}">&#36; ${t.saleInfo?.retailPrice?.amount}</h2>\n                              <button class="btn_buy-now" type="button" data-btnbuy="${t.id}">${a}</button>\n                          </div>\n                      </div>`;e.innerHTML+=n})),d.push(i),document.querySelectorAll(".btn_buy-now").forEach((e=>{e.addEventListener("click",(e=>{let i=document.querySelector(".nav-info_cart-flag");n=e.target.closest(".btn_buy-now"),n.classList.toggle("btn_in_the_cart"),n.classList.contains("btn_in_the_cart")?(n.innerText="In the cart",function(n){if(n.target.dataset.btnbuy)for(let e=0;e<d.length;e++){let i=d[e];i.forEach((e=>{if(t=e.id,t==n.target.dataset.btnbuy){let n=i.find((n=>n.id===t));c.push(n),localStorage.setItem("inCart",JSON.stringify(c))}}))}}(e),i.innerText=c.length):(n.innerText="buy now",function(n){for(let e=0;e<d.length;e++)d[e].forEach((e=>{t=e.id,t==n.target.dataset.btnbuy&&(c.forEach(((n,e)=>{n.id==t&&c.splice(e,1)})),localStorage.setItem("inCart",JSON.stringify(c)))}))}(e),i.innerText=c.length)}))}))}let _=[{url:"./banner 1.png"},{url:"./banner 2.png"},{url:"./banner 3.png"}];document.addEventListener("DOMContentLoaded",(function(){!function(){if(!_||!_.length)return;let t=document.querySelector(".container-slider"),n=document.querySelector(".container-dots");function e(e){n.querySelector(".active").classList.remove("active"),n.querySelector(".n"+e).classList.add("active"),t.querySelector(".active").classList.remove("active"),t.querySelector(".n"+e).classList.add("active")}_.forEach(((n,e)=>{let i=`<div class="image n${e} ${0===e?"active":""}" style="background-image:url('${_[e].url}');" data-index="${e}"></div>`;t.innerHTML+=i})),_.forEach(((t,e)=>{let i=`<div class="dot n${e} ${0===e?"active":""}" data-index="${e}"></div>`;n.innerHTML+=i})),n.querySelectorAll(".dot").forEach((t=>{t.addEventListener("click",(function(){e(this.dataset.index)}))})),setInterval((()=>{let n=+t.querySelector(".active").dataset.index;e(n===_.length-1?0:n+1)}),5e3)}(),v(),i.addEventListener("click",(()=>{l+=6,s.forEach((t=>{t.classList.contains("active")&&(r=t.innerText)})),o=`subject:${r}`,v()})),s.forEach((t=>{t.addEventListener("click",(n=>{let i=n.target.closest(".category-books_item");s.forEach((t=>{t.classList.contains("active")&&t.classList.remove("active")})),i.classList.add("active"),t.classList.contains("active")&&(r=t.innerText),e.innerHTML="",o=`subject:${r}`,v(),d=[]}))}))}))})();